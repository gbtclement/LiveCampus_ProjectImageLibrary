{% extends 'base.html.twig' %}

{% block body %}
    <div class="container" style="max-width: 800px; margin: 0 auto; padding: 2rem;">
        <h1 style="text-align: center; font-size: 2.5rem; font-weight: bold; background: linear-gradient(90deg, #a855f7, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            Galerie d'image publique
        </h1>

        <div class="upload-section" style="margin-top: 2rem;">
            <h2 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Ajouter une image</h2>

            {{ form_start(form, {'attr': {'class': 'upload-form', 'enctype': 'multipart/form-data'}}) }}

            <div style="border: 2px dashed #d1d5db; border-radius: 1rem; padding: 2rem; text-align: center; margin-bottom: 1.5rem;">
                <svg xmlns="http://www.w3.org/2000/svg" fill="#9ca3af" viewBox="0 0 24 24" width="50" height="50" style="margin-bottom: 0.5rem;">
                    <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 
                    2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 
                    5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 
                    13v4h-4v-4H7l5-5 5 5h-3z"/>
                </svg>
                <p style="color: #6b7280; margin-bottom: 1rem;">Déposez des fichiers ici ou cliquez pour parcourir</p>

                <label style="cursor: pointer; padding: 0.5rem 1rem; background-color: #f3f4f6; border: 1px solid #d1d5db; border-radius: 0.5rem;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" stroke="currentColor"
                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         style="vertical-align: middle; margin-right: 0.5rem;">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="17 8 12 3 7 8"/>
                        <line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                    Choisissez un fichier
                    {{ form_widget(form.imageFile, {'attr': {'class': 'file-input', 'style': 'display: none'}}) }}
                </label>
            </div>

            <div class="input-row" style="display: flex; gap: 1rem; align-items: center;">
                {{ form_widget(form.name, {'attr': {'class': 'name-input', 'placeholder': "Nom de l'image", 'style': 'flex: 1; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.5rem;'}}) }}
                <button type="submit" class="upload-btn" style="padding: 0.5rem 1.5rem; background: linear-gradient(to right, #6366f1, #ec4899); color: white; border: none; border-radius: 0.5rem;">
                    Uploader
                </button>
            </div>

            {{ form_end(form) }}
        </div>

        <h2>Galleries :</h2>
        <div class="gallery">
            {% for image in images %}
                <div class="image-card">
                    <img src="{{ image.url }}" alt="{{ image.name }}">
                    <button class="download-btn" data-url="{{ image.url }}" data-name="{{ image.name }}">Télécharger</button>
                </div>
            {% else %}
                <p class="no-images">Aucune image trouvée.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}


